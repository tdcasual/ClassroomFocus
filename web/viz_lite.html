<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Focus Monitor Lite</title>
    <link rel="stylesheet" href="./viz_lite.css" />
  </head>
  <body>
    <div class="app">
      <header class="topbar">
        <div class="brand">
          <div class="logo" aria-hidden="true">CF</div>
          <div class="brand-text">
            <div class="title" data-i18n="Focus Monitor Lite">Focus Monitor Lite</div>
            <div class="subtitle" data-i18n="Low-resource status view (no video preview)">Low-resource status view (no video preview)</div>
          </div>
        </div>
        <div class="actions">
          <div class="status-group">
            <div class="pill" role="status" aria-live="polite">
              <span class="dot" id="wsDot" aria-hidden="true"></span>
              <span id="wsText">disconnected</span>
            </div>
            <div class="pill" role="status" aria-live="polite">
              <span class="dot" id="recDot" aria-hidden="true"></span>
              <span id="recText">idle</span>
              <span class="mono" id="sessionId"></span>
            </div>
          </div>
          <div class="btn-group">
            <button class="btn primary" id="btnStart" data-i18n="开始录制">Start</button>
            <button class="btn" id="btnStop" disabled data-i18n="停止">Stop</button>
            <button class="btn ghost" id="btnReport" disabled data-i18n="生成报告">Generate Report</button>
          </div>
          <div class="control-group">
            <div class="select-pill">
              <span class="label" data-i18n="界面语言">界面语言</span>
              <select id="langSelect" aria-label="UI language" data-i18n-aria-label="界面语言">
                <option value="zh" data-i18n="中文">中文</option>
                <option value="en" data-i18n="English">English</option>
              </select>
            </div>
            <div class="select-pill">
              <span class="label" data-i18n="课堂语言">课堂语言</span>
              <select id="classLangSelect" aria-label="Class language" data-i18n-aria-label="课堂语言">
                <option value="zh" data-i18n="中文">中文</option>
                <option value="en" data-i18n="English">English</option>
              </select>
            </div>
            <button class="btn ghost" id="btnThemeToggle" title="切换主题" data-i18n-title="切换主题">
              <span class="theme-icon" id="themeIcon">☾</span>
              <span id="themeText">夜间</span>
            </button>
          </div>
        </div>
      </header>

      <main class="content">
        <section class="panel">
          <div class="panel-head">
            <div class="panel-title" data-i18n="Detected Faces">Detected Faces</div>
            <div class="panel-meta">
              <span id="faceCount">0</span>
              <span class="meta-sep">/</span>
              <span id="lastUpdate">No updates yet</span>
            </div>
          </div>
          <div class="face-list" id="faceList" role="list">
            <div class="empty" id="emptyState" data-i18n="Waiting for detections...">Waiting for detections...</div>
          </div>
        </section>

        <section class="panel report-panel is-hidden" id="reportPanel">
          <div class="panel-head">
            <div class="panel-title" data-i18n="Report">Report</div>
            <div class="panel-meta" id="reportMeta">Idle</div>
          </div>
          <div class="report-body">
            <div class="muted" id="reportStatus" data-i18n="No report running.">No report running.</div>
            <div class="report-links" id="reportLinks"></div>
          </div>
        </section>
      </main>

      <div class="banner error is-hidden" id="errorBanner" role="status" aria-live="polite"></div>
    </div>

    <script src="./viz_lite.js" defer></script>
  </body>
</html>
